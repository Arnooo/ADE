function adeDateDummyCtrl(){}function adeTimeDummyCtrl(){}var DateJSLoadCultureInfo=function(e){Date.CultureInfo="en-us"==e.toLowerCase()||"en"==e.toLowerCase()?{name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"}}:{name:"en-GB",englishName:"English (United Kingdom)",nativeName:"English (United Kingdom)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"dd/MM/yyyy",longDate:"dd MMMM yyyy",shortTime:"HH:mm",longTime:"HH:mm:ss",fullDateTime:"dd MMMM yyyy HH:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"dd MMMM",yearMonth:"MMMM yyyy"}}};DateJSLoadCultureInfo(window.navigator.userLanguage||window.navigator.language),Date.CultureInfo&&(Date.CultureInfo.regexPatterns={jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,lastDayOf:/^(last day of)|(last of)/i,firstDayOf:/^(first day of)|(first of)|(1st( day)? of)|first|1st/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence|in)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(t(erday)?)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m((on)?th)?s?/i,day:/^d(ay)?s?/i,year:/^yr(s)?|(y(ear)?s?)/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},Date.CultureInfo.timezones=[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]),function(){var e=Date,t=e.prototype,n=(Date.CultureInfo,function(e,t){return t||(t=2),("000"+e).slice(-1*t)});t.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},t.setTimeToNow=function(){var e=new Date;return this.setHours(e.getHours()),this.setMinutes(e.getMinutes()),this.setSeconds(e.getSeconds()),this.setMilliseconds(e.getMilliseconds()),this},e.today=function(){return(new Date).clearTime()},e.compare=function(e,t){if(isNaN(e)||isNaN(t))throw Error(e+" - "+t);if(e instanceof Date&&t instanceof Date)return t>e?-1:e>t?1:0;throw new TypeError(e+" - "+t)},e.equals=function(e,t){return 0===e.compareTo(t)},e.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,i=Date.CultureInfo.shortestDayNames,r=e.toLowerCase(),o=0;t.length>o;o++)if(t[o].toLowerCase()==r||n[o].toLowerCase()==r||i[o].toLowerCase()==r)return o;return-1},e.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,i=e.toLowerCase(),r=0;t.length>r;r++)if(t[r].toLowerCase()==i||n[r].toLowerCase()==i)return r;return-1},e.isLeapYear=function(e){return 0===e%4&&0!==e%100||0===e%400},e.getDaysInMonth=function(t,n){return[31,e.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][n]},e.getTimezoneAbbreviation=function(e){for(var t=Date.CultureInfo.timezones,n=0;t.length>n;n++)if(t[n].offset===e)return t[n].name;return null},e.getTimezoneOffset=function(e){for(var t=Date.CultureInfo.timezones,n=0;t.length>n;n++)if(t[n].name===e.toUpperCase())return t[n].offset;return null},t.clone=function(){return new Date(this.getTime())},t.compareTo=function(e){return Date.compare(this,e)},t.equals=function(e){return Date.equals(this,e||new Date)},t.between=function(e,t){return this.getTime()>=e.getTime()&&this.getTime()<=t.getTime()},t.isAfter=function(e){return 1===this.compareTo(e||new Date)},t.isBefore=function(e){return-1===this.compareTo(e||new Date)},t.isToday=t.isSameDay=function(e){return this.clone().clearTime().equals((e||new Date).clone().clearTime())},t.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+1*e),this},t.addSeconds=function(e){return this.addMilliseconds(1e3*e)},t.addMinutes=function(e){return this.addMilliseconds(6e4*e)},t.addHours=function(e){return this.addMilliseconds(36e5*e)},t.addDays=function(e){return this.setDate(this.getDate()+1*e),this},t.addWeeks=function(e){return this.addDays(7*e)},t.addMonths=function(t){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+1*t),this.setDate(Math.min(n,e.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},t.addYears=function(e){return this.addMonths(12*e)},t.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return t.milliseconds&&this.addMilliseconds(t.milliseconds),t.seconds&&this.addSeconds(t.seconds),t.minutes&&this.addMinutes(t.minutes),t.hours&&this.addHours(t.hours),t.weeks&&this.addWeeks(t.weeks),t.months&&this.addMonths(t.months),t.years&&this.addYears(t.years),t.days&&this.addDays(t.days),this};var i,r,o;t.getWeek=function(){var e,t,n,a,s,l,c,u,d,h;return i=i?i:this.getFullYear(),r=r?r:this.getMonth()+1,o=o?o:this.getDate(),2>=r?(e=i-1,t=(0|e/4)-(0|e/100)+(0|e/400),n=(0|(e-1)/4)-(0|(e-1)/100)+(0|(e-1)/400),d=t-n,s=0,l=o-1+31*(r-1)):(e=i,t=(0|e/4)-(0|e/100)+(0|e/400),n=(0|(e-1)/4)-(0|(e-1)/100)+(0|(e-1)/400),d=t-n,s=d+1,l=o+(153*(r-3)+2)/5+58+d),c=(e+t)%7,a=(l+c-s)%7,u=0|l+3-a,h=0>u?53-(0|(c-d)/5):u>364+d?1:(0|u/7)+1,i=r=o=null,h},t.getISOWeek=function(){return i=this.getUTCFullYear(),r=this.getUTCMonth()+1,o=this.getUTCDate(),n(this.getWeek())},t.setWeek=function(e){return this.moveToDayOfWeek(1).addWeeks(e-this.getWeek())};var a=function(e,t,n,i){if(void 0===e)return!1;if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(t>e||e>n)throw new RangeError(e+" is not a valid value for "+i+".");return!0};e.validateMillisecond=function(e){return a(e,0,999,"millisecond")},e.validateSecond=function(e){return a(e,0,59,"second")},e.validateMinute=function(e){return a(e,0,59,"minute")},e.validateHour=function(e){return a(e,0,23,"hour")},e.validateDay=function(t,n,i){return a(t,1,e.getDaysInMonth(n,i),"day")},e.validateMonth=function(e){return a(e,0,11,"month")},e.validateYear=function(e){return a(e,0,9999,"year")},t.set=function(t){return e.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),e.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),e.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),e.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),e.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),e.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),e.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),t.week&&a(t.week,0,53,"week")&&this.setWeek(t.week),cDate=new Date,void 0==t.year&&(t.month<cDate.getMonth()||t.month==cDate.getMonth()&&t.day<cDate.getDate())&&this.addYears(1),this},t.moveToFirstDayOfMonth=function(){return this.set({day:1})},t.moveToLastDayOfMonth=function(){return this.set({day:e.getDaysInMonth(this.getFullYear(),this.getMonth())})},t.moveToNthOccurrence=function(e,t){var n=0;if(t>0)n=t-1;else if(-1===t)return this.moveToLastDayOfMonth(),this.getDay()!==e&&this.moveToDayOfWeek(e,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(e,1).addWeeks(n)},t.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===n?n+=7*(t||1):n)},t.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===n?n+=12*(t||1):n)},t.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},t.getTimezone=function(){return e.getTimezoneAbbreviation(this.getUTCOffset())},t.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=-6*Number(e)/10;return this.addMinutes(n-t)},t.setTimezone=function(t){return this.setTimezoneOffset(e.getTimezoneOffset(t))},t.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},t.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!=this.getTimezoneOffset()},t.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return 0>t?(e=""+(t-1e4),e.charAt(0)+e.substr(2)):(e=""+(t+1e4),"+"+e.substr(1))},t.toUnixTimestamp=function(){return Math.round(this.getTime()/1e3)},t.getMonthName=function(e){return Date.CultureInfo&&Date.CultureInfo.monthNames&&e>=0&&12>e?Date.CultureInfo.monthNames[e]:""},t.getElapsed=function(e){return(e||new Date)-this},t.toISOString||(t.toISOString=function(){function e(e){return 10>e?"0"+e:e}return'"'+this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+'Z"'}),t._toString=t.toString,t.toString=function(e){var t=this;if(e&&1==e.length){var i=Date.CultureInfo.formatPatterns;switch(t.t=t.toString,e){case"d":return t.t(i.shortDate);case"D":return t.t(i.longDate);case"F":return t.t(i.fullDateTime);case"m":return t.t(i.monthDay);case"r":return t.t(i.rfc1123);case"s":return t.t(i.sortableDateTime);case"t":return t.t(i.shortTime);case"T":return t.t(i.longTime);case"u":return t.t(i.universalSortableDateTime);case"y":return t.t(i.yearMonth)}}var r=function(e){switch(1*e){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return e?e.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(e){if("\\"===e.charAt(0))return e.replace("\\","");switch(t.h=t.getHours,e){case"hh":return n(13>t.h()?0===t.h()?12:t.h():t.h()-12);case"h":return 13>t.h()?0===t.h()?12:t.h():t.h()-12;case"HH":return n(t.h());case"H":return t.h();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return n(t.getFullYear(),4);case"yy":return n(t.getFullYear());case"dddd":return Date.CultureInfo.dayNames[t.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[t.getDay()];case"dd":return n(t.getDate());case"d":return t.getDate();case"MMMM":return Date.CultureInfo.monthNames[t.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[t.getMonth()];case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return 12>t.h()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return 12>t.h()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return r(t.getDate());default:return e}}):this._toString()}}(),function(){var e=Date,t=e.prototype,n=(e.CultureInfo,Number.prototype);t._orient=1,t._nth=null,t._is=!1,t._same=!1,t._isSecond=!1,n._dateElement="day",t.next=function(){return this._orient=1,this},e.next=function(){return e.today().next()},t.last=t.prev=t.previous=function(){return this._orient=-1,this},e.last=e.prev=e.previous=function(){return e.today().last()},t.is=function(){return this._is=!0,this},t.same=function(){return this._same=!0,this._isSecond=!1,this},t.today=function(){return this.same().day()},t.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1},t.at=function(t){return"string"==typeof t?e.parse(this.toString("d")+" "+t):this.set(t)},n.fromNow=n.after=function(e){var t={};return t[this._dateElement]=this,(e?e.clone():new Date).add(t)},n.ago=n.before=function(e){var t={};return t[this._dateElement]=-1*this,(e?e.clone():new Date).add(t)};var i,r="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),s="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),l="final first second third fourth fifth".split(/\s/);t.toObject=function(){for(var e={},t=0;a.length>t;t++)e[a[t].toLowerCase()]=this["get"+s[t]]();return e},e.fromObject=function(e){return e.week=null,Date.today().set(e)};for(var c=function(t){return function(){if(this._is)return this._is=!1,this.getDay()==t;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var n=this._nth;this._nth=null;var i=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(t,n),this>i)throw new RangeError(e.getDayName(t)+" does not occur "+n+" times in the month of "+e.getMonthName(i.getMonth())+" "+i.getFullYear()+".");return this}return this.moveToDayOfWeek(t,this._orient)}},u=function(t){return function(){var n=e.today(),i=t-n.getDay();return 0===t&&1===Date.CultureInfo.firstDayOfWeek&&0!==n.getDay()&&(i+=7),n.addDays(i)}},d=0;r.length>d;d++)e[r[d].toUpperCase()]=e[r[d].toUpperCase().substring(0,3)]=d,e[r[d]]=e[r[d].substring(0,3)]=u(d),t[r[d]]=t[r[d].substring(0,3)]=c(d);for(var h=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},f=function(t){return function(){return e.today().set({month:t,day:1})}},p=0;o.length>p;p++)e[o[p].toUpperCase()]=e[o[p].toUpperCase().substring(0,3)]=p,e[o[p]]=e[o[p].substring(0,3)]=f(p),t[o[p]]=t[o[p].substring(0,3)]=h(p);for(var m=function(e){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var t=this.toObject(),n=(arguments[0]||new Date).toObject(),i="",r=e.toLowerCase(),o=a.length-1;o>-1;o--){if(i=a[o].toLowerCase(),t[i]!=n[i])return!1;if(r==i)break}return!0}return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}},g=function(e){return function(){return this._dateElement=e,this}},v=0;a.length>v;v++)i=a[v].toLowerCase(),t[i]=t[i+"s"]=m(a[v]),n[i]=n[i+"s"]=g(i);t._ss=m("Second");for(var y=function(e){return function(t){return this._same?this._ss(arguments[0]):t||0===t?this.moveToNthOccurrence(t,e):(this._nth=e,2!==e||void 0!==t&&null!==t?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},b=0;l.length>b;b++)t[l[b]]=0===b?y(-1):y(b)}(),function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var i=n.match(t);if(i)return[i[0],n.substring(i[0].length)];throw new e.Exception(n)}},token:function(){return function(e){return t.rtoken(RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(RegExp("^"+e))},until:function(e){return function(t){for(var n=[],i=null;t.length;){try{i=e.call(this,t)}catch(r){n.push(i[0]),t=i[1];continue}break}return[n,t]}},many:function(e){return function(t){for(var n=[],i=null;t.length;){try{i=e.call(this,t)}catch(r){return[n,t]}n.push(i[0]),t=i[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(i){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(i){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){for(var e=arguments[0],n=Array.prototype.slice.call(arguments,1),i=[],r=0;e.length>r;r++)i.push(t.each(e[r],n));return i},cache:function(t){var n={},i=null;return function(r){try{i=n[r]=n[r]||t.call(this,r)}catch(o){i=n[r]=o}if(i instanceof e.Exception)throw i;return i}},any:function(){var t=arguments;return function(n){for(var i=null,r=0;t.length>r;r++)if(null!=t[r]){try{i=t[r].call(this,n)}catch(o){i=null}if(i)return i}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){for(var i=[],r=null,o=0;t.length>o;o++)if(null!=t[o]){try{r=t[o].call(this,n)}catch(a){throw new e.Exception(n)}i.push(r[0]),n=r[1]}return[i,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,i,r){return i=i||t.rtoken(/^\s*/),r=r||null,1==n.length?n[0]:function(t){for(var o=null,a=null,s=[],l=0;n.length>l;l++){try{o=n[l].call(this,t)}catch(c){break}s.push(o[0]);try{a=i.call(this,o[1])}catch(u){a=null;break}t=a[1]}if(!o)throw new e.Exception(t);if(a)throw new e.Exception(a[1]);if(r)try{o=r.call(this,o[1])}catch(d){throw new e.Exception(o[1])}return[s,o?o[1]:t]}},between:function(e,n,i){i=i||e;var o=t.each(t.ignore(e),n,t.ignore(i));return function(e){var t=o.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,i){return n=n||t.rtoken(/^\s*/),i=i||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(i)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(i))},set:function(n,i,r){return i=i||t.rtoken(/^\s*/),r=r||null,function(o){for(var a=null,s=null,l=null,c=null,u=[[],o],d=!1,h=0;n.length>h;h++){l=null,s=null,a=null,d=1==n.length;try{a=n[h].call(this,o)}catch(f){continue}if(c=[[a[0]],a[1]],a[1].length>0&&!d)try{l=i.call(this,a[1])}catch(p){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var m=[],g=0;n.length>g;g++)h!=g&&m.push(n[g]);s=t.set(m,i).call(this,l[1]),s[0].length>0&&(c[0]=c[0].concat(s[0]),c[1]=s[1])}if(c[1].length<u[1].length&&(u=c),0===u[1].length)break}if(0===u[0].length)return u;if(r){try{l=r.call(this,u[1])}catch(v){throw new e.Exception(u[1])}u[1]=l[1]}return u}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var i=e.call(this,n);return[t,i[1]]}},process:function(e,t){return function(n){var i=e.call(this,n);return[t.call(this,i[0]),i[1]]}},min:function(t,n){return function(i){var r=n.call(this,i);if(t>r[0].length)throw new e.Exception(i);return r}}},n=function(e){return function(){var t=null,n=[];if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return e.apply(null,arguments);for(var i=0,r=t.shift();r.length>i;i++)return t.unshift(r[i]),n.push(e.apply(null,t)),t.shift(),n}},i="optional not ignore cache".split(/\s/),o=0;i.length>o;o++)t[i[o]]=n(t[i[o]]);for(var a=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},s="each any all".split(/\s/),l=0;s.length>l;l++)t[s[l]]=a(t[s[l]])}(),function(){var e=Date;e.prototype,e.CultureInfo;var t=function(e){for(var n=[],i=0;e.length>i;i++)e[i]instanceof Array?n=n.concat(t(e[i])):e[i]&&n.push(e[i]);return n};e.Grammar={},e.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(e)/4:Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(Date.CultureInfo.twoDigitYearMax>t+2e3?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];for(var n=0;t.length>n;n++)t[n]&&t[n].call(this);var i=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=i.getDate()),this.year||(this.year=i.getFullYear()),this.month||0===this.month||(this.month=i.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>e.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(n){if(n=n instanceof Array?t(n):[n],0===n.length)return null;for(var i=0;n.length>i;i++)"function"==typeof n[i]&&n[i].call(this);var r=e.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(r=new Date);var o,a,s,l=!!(this.days&&null!==this.days||this.orient||this.operator);if(s="past"==this.orient||"subtract"==this.operator?-1:1,"lastDayOf"==this.orient){var c=new Date(this.year||r.getFullYear(),this.month+1,0);if(c.getDate())return!this.year&&(c.getMonth()<r.getMonth()||c.getMonth()==r.getMonth()&&c.getDate()<r.getDate())&&c.addYears(1),c}if("firstDayOf"==this.orient){var u=new Date(this.year||r.getFullYear(),this.month,1);if(u.getDate())return!this.year&&(u.getMonth()<r.getMonth()||u.getMonth()==r.getMonth()&&u.getDate()<r.getDate())&&u.addYears(1),u}if(this.now||-1=="hour minute second".indexOf(this.unit)||r.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,this.month=null,l=!0),!l&&this.weekday&&!this.day&&!this.days){var d=Date[this.weekday]();this.day=d.getDate(),this.month||(this.month=d.getMonth()),this.year=d.getFullYear()}if(l&&this.weekday&&"month"!=this.unit&&(this.unit="day",o=e.getDayNumberFromName(this.weekday)-r.getDay(),a=7,this.days=o?(o+s*a)%a:s*a),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(r.set({day:1*this.value}),l||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,l=!0),l&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",o=this.month-r.getMonth(),a=12,this.months=this.value,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*s:(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*s),this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){var d=Date[this.weekday]();this.day=d.getDate(),d.getMonth()!==r.getMonth()&&(this.month=d.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month||this.value&&(this.operator="add",l=!0),void 0!=this.month&&"week"==this.unit&&(this.value=this.month+1,this[this.unit+"s"]=this.value,this.operator="add",this.month=null,this.day=null,l=!0),"month"==this.unit&&1==this.day&&1==this.value&&(this.operator="add",this.value=this[this.unit+"s"]=this.month+1,this.day=this.month=null,l=!0),l&&this.timezone&&this.day&&this.days&&(this.day=this.days),l?r.add(this):r.set(this)}};var n,i=e.Parsing.Operators,r=e.Grammar,o=e.Translator;r.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/),r.timePartDelimiter=i.stoken(":"),r.whiteSpace=i.rtoken(/^\s*/),r.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};r.ctoken=function(e){var t=a[e];if(!t){for(var n=Date.CultureInfo.regexPatterns,r=e.split(/\s+/),o=[],s=0;r.length>s;s++)o.push(i.replace(i.rtoken(n[r[s]]),r[s]));t=a[e]=i.any.apply(null,o)}return t},r.ctoken2=function(e){return i.rtoken(Date.CultureInfo.regexPatterns[e])},r.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),r.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),r.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),r.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),r.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),r.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.minute)),r.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),r.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.second)),r.hms=i.cache(i.sequence([r.H,r.m,r.s],r.timePartDelimiter)),r.t=i.cache(i.process(r.ctoken2("shortMeridian"),o.meridian)),r.tt=i.cache(i.process(r.ctoken2("longMeridian"),o.meridian)),r.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),r.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),r.zzz=i.cache(i.process(r.ctoken2("timezone"),o.timezone)),r.timeSuffix=i.each(i.ignore(r.whiteSpace),i.set([r.tt,r.zzz])),r.time=i.each(i.optional(i.ignore(i.stoken("T"))),r.hms,r.timeSuffix),r.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(r.ctoken2("ordinalSuffix"))),o.day)),r.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(r.ctoken2("ordinalSuffix"))),o.day)),r.ddd=r.dddd=i.cache(i.process(r.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),r.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),r.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),o.month)),r.MMM=r.MMMM=i.cache(i.process(r.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),r.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),o.year)),r.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),o.year)),r.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),o.year)),r.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),o.year)),n=function(){return i.each(i.any.apply(null,arguments),i.not(r.ctoken2("timeContext")))},r.day=n(r.d,r.dd),r.month=n(r.M,r.MMM),r.year=n(r.yyyy,r.yy),r.orientation=i.process(r.ctoken("lastDayOf firstDayOf past future"),function(e){return function(){this.orient=e}}),r.operator=i.process(r.ctoken("add subtract"),function(e){return function(){this.operator=e}}),r.rday=i.process(r.ctoken("yesterday tomorrow today now"),o.rday),r.unit=i.process(r.ctoken("second minute hour day week month year"),function(e){return function(){this.unit=e}}),r.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),r.expression=i.set([r.rday,r.operator,r.value,r.unit,r.orientation,r.ddd,r.MMM,r.yyyy]),n=function(){return i.set(arguments,r.datePartDelimiter)},r.mdy=n(r.ddd,r.month,r.day,r.year),r.ymd=n(r.ddd,r.year,r.month,r.day),r.dmy=n(r.ddd,r.day,r.month,r.year),r.date=function(e){return(r[Date.CultureInfo.dateElementOrder]||r.mdy).call(this,e)},r.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(r[t])return r[t];throw e.Parsing.Exception(t)}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(e){return i.ignore(i.stoken(e))}))),function(e){return i.process(i.each.apply(null,e),o.finishExact)});var s={},l=function(e){return s[e]=s[e]||r.format(e)[0]};r.formats=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(l(e[n]));return i.any.apply(null,t)}return l(e)},r._formats=r.formats([]),r._start=i.process(i.set([r.date,r.time,r.expression],r.generalDelimiter,r.whiteSpace),o.finish),r.start=function(e){try{var t=r._formats.call({},e);if(0===t[1].length)return t}catch(n){}return r._start.call({},e)},e._parse=e.parse,e.parse=function(t){var n=null;if(!t)return null;if(t instanceof Date)return t;try{n=e.Grammar.start.call({},t.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(i){return null}return 0===n[1].length?n[0]:null},e.getParseFunction=function(t){var n=e.Grammar.formats(t);return function(e){var t=null;try{t=n.call({},e)}catch(i){return null}return 0===t[1].length?t[0]:null}},e.parseExact=function(t,n){return e.getParseFunction(n)(t)}}();var parseDateString=function(e,t,n){var i=Date.parse(e);if(null!=i){var r=i.toUnixTimestamp();return n&&(r-=60*i.getTimezoneOffset()),t?""+i:r}return null},TimeSpan=function(e,t,n,i,r){for(var o="days hours minutes seconds milliseconds".split(/\s+/),a=function(e){return function(){return this[e]}},s=function(e){return function(t){return this[e]=t,this}},l=0;o.length>l;l++){var c=o[l],u=c.slice(0,1).toUpperCase()+c.slice(1);TimeSpan.prototype[c]=0,TimeSpan.prototype["get"+u]=a(c),TimeSpan.prototype["set"+u]=s(c)}if(4==arguments.length)this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(i);else if(5==arguments.length)this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(i),this.setMilliseconds(r);else if(1==arguments.length&&"number"==typeof e){var d=0>e?-1:1;this.setMilliseconds(Math.abs(e)),this.setDays(Math.floor(this.getMilliseconds()/864e5)*d),this.setMilliseconds(this.getMilliseconds()%864e5),this.setHours(Math.floor(this.getMilliseconds()/36e5)*d),this.setMilliseconds(this.getMilliseconds()%36e5),this.setMinutes(Math.floor(this.getMilliseconds()/6e4)*d),this.setMilliseconds(this.getMilliseconds()%6e4),this.setSeconds(Math.floor(this.getMilliseconds()/1e3)*d),this.setMilliseconds(this.getMilliseconds()%1e3),this.setMilliseconds(this.getMilliseconds()*d)}return this.getTotalMilliseconds=function(){return 864e5*this.getDays()+36e5*this.getHours()+6e4*this.getMinutes()+1e3*this.getSeconds()},this.compareTo=function(e){var t,n=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());return t=null===e?new Date(1970,1,1,0,0,0):new Date(1970,1,1,e.getHours(),e.getMinutes(),e.getSeconds()),t>n?-1:n>t?1:0},this.equals=function(e){return 0===this.compareTo(e)},this.add=function(e){return null===e?this:this.addSeconds(e.getTotalMilliseconds()/1e3)},this.subtract=function(e){return null===e?this:this.addSeconds(-e.getTotalMilliseconds()/1e3)},this.addDays=function(e){return new TimeSpan(this.getTotalMilliseconds()+864e5*e)},this.addHours=function(e){return new TimeSpan(this.getTotalMilliseconds()+36e5*e)},this.addMinutes=function(e){return new TimeSpan(this.getTotalMilliseconds()+6e4*e)},this.addSeconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+1e3*e)},this.addMilliseconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+e)},this.get12HourHour=function(){return this.getHours()>12?this.getHours()-12:0===this.getHours()?12:this.getHours()},this.getDesignator=function(){return 12>this.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator
},this.toString=function(e){this._toString=function(){return null!==this.getDays()&&this.getDays()>0?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())},this.p=function(e){return 2>(""+e).length?"0"+e:e};var t=this;return e?e.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(e){switch(e){case"d":return t.getDays();case"dd":return t.p(t.getDays());case"H":return t.getHours();case"HH":return t.p(t.getHours());case"h":return t.get12HourHour();case"hh":return t.p(t.get12HourHour());case"m":return t.getMinutes();case"mm":return t.p(t.getMinutes());case"s":return t.getSeconds();case"ss":return t.p(t.getSeconds());case"t":return(12>t.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return 12>t.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()},this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(e,t,n,i,r,o,a){for(var s="years months days hours minutes seconds milliseconds".split(/\s+/),l=function(e){return function(){return this[e]}},c=function(e){return function(t){return this[e]=t,this}},u=0;s.length>u;u++){var d=s[u],h=d.slice(0,1).toUpperCase()+d.slice(1);TimePeriod.prototype[d]=0,TimePeriod.prototype["get"+h]=l(d),TimePeriod.prototype["set"+h]=c(d)}if(7==arguments.length)this.years=e,this.months=t,this.setDays(n),this.setHours(i),this.setMinutes(r),this.setSeconds(o),this.setMilliseconds(a);else if(2==arguments.length&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var f=e.clone(),p=t.clone(),m=f.clone(),g=f>p?-1:1;if(this.years=p.getFullYear()-f.getFullYear(),m.addYears(this.years),1==g?m>p&&0!==this.years&&this.years--:p>m&&0!==this.years&&this.years++,f.addYears(this.years),1==g)for(;p>f&&p>f.clone().addDays(Date.getDaysInMonth(f.getYear(),f.getMonth()));)f.addMonths(1),this.months++;else for(;f>p&&f.clone().addDays(-f.getDaysInMonth())>p;)f.addMonths(-1),this.months--;var v=p-f;if(0!==v){var y=new TimeSpan(v);this.setDays(y.getDays()),this.setHours(y.getHours()),this.setMinutes(y.getMinutes()),this.setSeconds(y.getSeconds()),this.setMilliseconds(y.getMilliseconds())}}return this};angular.module("ADE",[]).factory("ADE",["$rootScope",function(e){function t(e,t){var n={};return angular.isObject(e)?n=e:angular.isString(e)&&e.length>0&&(n=angular.fromJson(e)),$.each(t,function(e,t){angular.isDefined(n[e])||(n[e]=t)}),n}function n(t){t.id&&e.$broadcast("ADE-start",t.id)}function i(t,n,i,r){t.id&&e.$broadcast("ADE-finish",{id:t.id,oldVal:n,newVal:i,exit:r})}function r(e,t){e.bind("blur.ADE",function(){t(0)})}function o(e){e.unbind("blur.ADE")}function a(e,t,n){d=!0,e.bind("keydown.ADE",function(e){if(9==e.keyCode){e.preventDefault(),e.stopPropagation();var n=e.shiftKey?-1:1;t(n)}else 27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t(3))}),n!==!0&&e.bind("keypress.ADE",function(e){var n=e.keyCode?e.keyCode:e.which;if(13==n&&d){e.preventDefault(),e.stopPropagation();var i=e.shiftKey?-2:2;t(i)}})}function s(e){e.unbind("keydown.ADE"),e.unbind("keypress.ADE"),d=!1}var l="btn btn-mini btn-primary",c="ade-popup",u=["heart","film","music","camera","shopping-cart","flag","picture","gift","calendar","time","thumbs-up","thumbs-down","hand-right","hand-left","info-sign","question-sign","exclamation-sign","trophy","pushpin","warning-sign","leaf","tint","coffee","magnet","envelope","inbox","bookmark","file","bell","asterisk","globe","plane","road","lock","book","wrench","home","briefcase","map-marker","eye-open","medkit","lightbulb","food","laptop","circle","money","bullhorn","legal","facebook","twitter"];e.ADE_hidePopup=function(e){var t=e?e.next("."+c):angular.element("."+c);t.length&&t.hasClass("open")&&t.removeClass("open").remove()};var d=!1;return{parseSettings:t,begin:n,done:i,setupBlur:r,teardownBlur:o,setupKeys:a,teardownKeys:s,icons:u,popupClass:c,miniBtnClasses:l}}]),angular.module("ADE").directive("adeNumber",["ADE","$compile",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a={},s=!1,l=null,c="",u="",d=0;null!==o&&void 0!==o&&(o.$render=function(){return u=c=o.$modelValue,(void 0===c||null===c)&&(c=""),o.$viewValue});var h=function(t){u=c,d=t,3!=t&&(c=l.val(),c=c.replace(/[^0-9.-]/g,""),c=parseFloat(c),isNaN(c)&&(c=""),o.$setViewValue(c)),e.teardownKeys(l),e.teardownBlur(l),i.show(),l.remove(),s=!1,e.done(a,u,c,d),n.$digest()};return i.bind("click",function(){s||(s=!0,d=0,e.begin(a),angular.isArray(c)&&c.length>0&&(c=c[0]),angular.isString(c)?c=parseFloat(c.replace(/[$]/g,"")):angular.isNumber(c)||(c=""),c=c?c:"",i.hide(),t('<input type="text" class="'+a.className+'" value="'+c+'" />')(n).insertAfter(i),l=i.next("input"),l.focus(),e.setupBlur(l,h),e.setupKeys(l,h),l.bind("keypress.ADE",function(e){var t=e.keyCode?e.keyCode:e.which;t>=48&&57>=t||36==t||37==t||44==t||45==t||46==t||(e.preventDefault(),e.stopPropagation())}))}),r.$observe("adeNumber",function(t){return a=e.parseSettings(t,{className:"input-small"}),i})}}}]),angular.module("ADE").directive("adeUrl",["ADE","$compile","$filter",function(e,t,n){return{require:"?ngModel",restrict:"A",link:function(i,r,o,a){var s={},l=!1,c=null,u="",d="",h=0,f=null;null!==a&&void 0!==a&&(a.$render=function(){return d=u=a.$modelValue,(void 0===u||null===u)&&(u=""),a.$viewValue});var p=function(t){d=u,h=t,3!==h&&c&&(u=c.val(),a.$setViewValue(u)),r.show(),i.ADE_hidePopup(),c&&c.remove(),l=!1,e.done(s,d,u,h),i.$digest()},m=function(){f&&window.clearTimeout(f),l=!0,h=0,e.begin(s),angular.isString(u)||(u=""+u),r.hide(),i.ADE_hidePopup(),t('<input type="text" class="'+s.className+'" value="'+u.replace(/"/g,"&quot;")+'" />')(i).insertAfter(r),c=r.next("input"),c.focus(),e.setupBlur(c,p),e.setupKeys(c,p)};return r.bind("click",function(o){if(o.preventDefault(),o.stopPropagation(),!l){var a=""+u,c=!1,d=r.offset(),h=d.left,g=d.top+r[0].offsetHeight,v="";switch(s.type){case"email":c=n("email")(u).match("mailto:"),a.match("mailto:")||(a="mailto:"+a),v='<div class="'+e.popupClass+' ade-links dropdown-menu open" style="left:'+h+"px;top:"+g+'px">'+'<a class="'+e.miniBtnClasses+'" href="'+a+'" ng-click="ADE_hidePopup();">Send Email</a>'+' or <a class="'+e.miniBtnClasses+' ade-edit-link">Edit</a>'+'<div class="ade-hidden"><input class="invisinput" type="text" /></div>'+"</div>";break;case"phone":c=n("phone")(u).match("tel:"),a.match("tel:")||(a="tel:"+a),v='<div class="'+e.popupClass+' ade-links dropdown-menu open" style="left:'+h+"px;top:"+g+'px">'+'<a class="'+e.miniBtnClasses+'" href="'+a+'" ng-click="ADE_hidePopup();">Call Number</a>'+' or <a class="'+e.miniBtnClasses+' ade-edit-link">Edit</a>'+'<div class="ade-hidden"><input class="invisinput" type="text" /></div>'+"</div>";break;default:c=n("url")(u).match(/https?:/),a.match(/https?:/)||(a="http://"+a),v='<div class="'+e.popupClass+' ade-links dropdown-menu open" style="left:'+h+"px;top:"+g+'px">'+'<a class="'+e.miniBtnClasses+'" href="'+a+'" target="_blank" ng-click="ADE_hidePopup();">Follow Link</a>'+' or <a class="'+e.miniBtnClasses+' ade-edit-link">Edit</a>'+'<div class="ade-hidden"><input class="invisinput" type="text" /></div>'+"</div>"}if(""!==u&&c){if(!r.next("."+e.popupClass).length){t(v)(i).insertAfter(r);var y=r.next(".ade-links").find(".ade-edit-link");y.bind("click",m);var b=r.next(".ade-links").find(".invisinput");b.focus(),e.setupKeys(b,p),b.bind("blur",function(){f=window.setTimeout(function(){i.ADE_hidePopup(r)},300)})}}else m()}}),o.$observe("adeUrl",function(t){return s=e.parseSettings(t,{className:"input-medium",type:"http"}),r})}}}]),!function(e){var t=function(t,i){if(this.element=e(t),this.picker=e(n.template).appendTo("body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),blur:e.proxy(this.hide,this),keyup:e.proxy(this.update,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=i.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=i.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=i.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=i.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isInput||e(document).on("mousedown",e.proxy(this.hide,this)),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.set(),this.element.trigger({type:"hide",date:this.date})},remove:function(){this.picker.remove()},set:function(){this.element.trigger({type:"changeDate",date:this.date?this.date.getTime():null})},setValue:function(e){this.date=e?"string"==typeof e?n.parseDate(e):new Date(1e3*e):null,this.set(),this.viewDate=e&&this.date?new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0):null,this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left});var n=e(window).height(),i=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,r=this.picker[0].offsetTop+this.picker[0].offsetHeight;r-i>n?this.picker.css({top:t.top-this.picker[0].offsetHeight-5,left:t.left}).addClass("flipped"):this.picker.removeClass("flipped")},update:function(e){this.date=n.parseDate("string"==typeof e?e:this.isInput?this.element.prop("value"):this.element.data("date")),this.viewDate=this.date?new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0):new Date,this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";this.weekStart+7>e;)t+='<th class="dow">'+n.dates.daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+n.dates.monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),i=e.getMonth(),r=new Date,o=r.getDate(),a=r.getMonth(),s=null;this.date&&(s=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()).valueOf()),this.picker.find(".datepicker-days th:eq(1)").text(n.dates.months[i]+" "+t);var l=new Date(t,i-1,28,0,0,0,0),c=n.getDaysInMonth(l.getFullYear(),l.getMonth());l.setDate(c),l.setDate(c-(l.getDay()-this.weekStart+7)%7);var u=new Date(l);u.setDate(u.getDate()+42),u=u.valueOf();for(var d,h,f,p=[];u>l.valueOf();)l.getDay()===this.weekStart&&p.push("<tr>"),d=this.onRender(l),h=l.getFullYear(),f=l.getMonth(),i>f&&h===t||t>h?d+=" old":(f>i&&h===t||h>t)&&(d+=" new"),l.valueOf()===s&&(d+=" active"),l.getMonth()===a&&l.getDate()===o&&(d+=" today"),p.push('<td class="day'+d+'">'+l.getDate()+"</td>"),l.getDay()===this.weekEnd&&p.push("</tr>"),l.setDate(l.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(p.join(""));var m=this.date?this.date.getFullYear():null,g=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");if(m===t){var v=this.date?this.date.getMonth():null;v&&g.eq(v).addClass("active")}p="",t=10*parseInt(t/10,10);var y=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var b=-1;11>b;b++)p+='<span class="year'+(-1===b||10===b?" old":"")+(m===t?" active":"")+'">'+t+"</span>",t+=1;y.html(p)},click:function(t){t.stopPropagation(),t.preventDefault();var i=e(t.target).closest("span, td, th");if(1===i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+n.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+n.modes[this.viewMode].navFnc].call(this.viewDate)+n.modes[this.viewMode].navStep*("prev"===i[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(i.is(".month")){var r=i.parent().find("span").index(i);this.viewDate.setMonth(r)}else{var o=parseInt(i.text(),10)||0;this.viewDate.setFullYear(o)}0!==this.viewMode&&(this.date=new Date(this.viewDate)),this.showMode(-1),this.fill(),this.set();break;case"td":if(i.is(".day")){var a=parseInt(i.text(),10)||1,r=this.viewDate.getMonth();i.is(".old")?r-=1:i.is(".new")&&(r+=1);var o=this.viewDate.getFullYear();this.date=new Date(o,r,a,0,0,0,0),this.viewDate=new Date(o,r,Math.min(28,a),0,0,0,0),this.fill(),this.set()}}},mousedown:function(e){e.stopPropagation(),e.preventDefault()},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+n.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(n,i){return this.each(function(){var r=e(this),o=r.data("datepicker"),a="object"==typeof n&&n;o||r.data("datepicker",o=new t(this,e.extend({},e.fn.datepicker.defaults,a))),"string"==typeof n&&o[n](i)})},e.fn.datepicker.defaults={onRender:function(){return""}},e.fn.datepicker.Constructor=t;var n={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,n.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),n=e.split(/\W+/);if(!t||!n||0===n.length)throw Error("Invalid date format.");return{separator:t,parts:n}},parseDate:function(e){if(!e)return null;var t=new Date,n=parseDateString(e);return n?(t.setTime(1e3*n),t):null},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};n.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+n.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery),angular.module("ADE").filter("validDate",["$filter",function(e){return function(t,n){if(angular.isUndefined(t))return"";if(angular.isString(t)){var i=t.split(",");3==i.length&&(t=i)}var r=t,o=t,a="";angular.isArray(t)&&(r=parseInt(t[0]),o=parseInt(t[1]),a=parseInt(t[2]),o||(o=r),r||(r=o));var s=n,l=!0,c=!1;if(angular.isArray(n)&&(s=n[0],void 0!==n[1]&&(l=n[1]),void 0!==n[2]&&(c=n[2])),!t||!r)return"";if(angular.isString(r)){var u=parseInt(r);r===u+""?r=u:(r=parseDateString(r),o=r)}var d="";if(l){var h=new Date(1e3*o).getTimezoneOffset();if(o+=60*h,d=e("date")(1e3*o,s),c&&h!==a){var f=(h-a)/60;f>0&&(f="+"+f),d+=" ("+f+" h)"}}else d=e("date")(1e3*r,s);return d}}]),angular.module("ADE").directive("adeCalpop",["$filter",function(e){return{require:"?ngModel",restrict:"A",link:function(t,n,i,r){var o="mm/dd/yyy";n.bind("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;13==t?(e.preventDefault(),e.stopPropagation(),n.datepicker("hide"),n.blur()):27==t&&n.datepicker("hide")});var a=function(i){var a="";i.date&&(a=e("date")(i.date,o)),n.context.value=a,void 0!==r&&null!==r&&r.$setViewValue(a),t.$$phase||t.$digest()};return void 0!==r&&null!==r&&(r.$render=function(){return r.$viewValue?(n.datepicker().data().datepicker.date=r.$viewValue,n.datepicker("setValue",r.$viewValue),n.datepicker("update")):null===r.$viewValue&&(n.datepicker("setValue",null),n.datepicker("update")),r.$viewValue}),i.$observe("adeCalpop",function(e){var t={};return angular.isObject(e)&&(t=e),"string"==typeof e&&e.length>0&&(t=angular.fromJson(e)),t.format&&(o=t.format),n.datepicker(t).on("changeDate",a)})}}}]),angular.module("ADE").directive("adeDate",["ADE","$compile",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a={},s=!1,l=null,c=null,u=null,d=0;null!==o&&void 0!==o&&(o.$render=function(){return u=c=o.$modelValue,(void 0===c||null===c)&&(c=0),o.$viewValue});var h=function(t){if(u=c,d=t,3!=t){if(c=parseDateString(l.val()),null==c||0==c)c=[0,0,0];else{var r=new Date(1e3*c).getTimezoneOffset();c=[c,c-60*r,r]}void 0!==o&&null!==o&&o.$setViewValue(c)}i.show(),e.teardownBlur(l),e.teardownKeys(l),l.datepicker("remove"),l.scope().$destroy(),l.remove(),s=!1,e.done(a,u,c,d),n.$digest()};return i.bind("mouseover",function(){var r=i.text();if(!(""===r||4>=r.length)){var o=i.offset(),a=o.left,s=o.top+i[0].offsetHeight,l=Date.today(),c=Date.parse(r),u=c.toString("dddd"),d=l.isAfter(c)?!1:!0,h=Math.abs(new TimeSpan(c-l).days),f=1===h?" day":" days",p=d?"In "+h+f+". ":h+f+" ago. ";0===h&&(p="Today is ");var m='<div class="'+e.popupClass+' ade-date-popup dropdown-menu open" style="left:'+a+"px;top:"+s+'px"><p>'+p+u+".</p></div>";t(m)(n).insertAfter(i)}}),i.bind("mouseout",function(){n.ADE_hidePopup()}),i.bind("click",function(){if(n.ADE_hidePopup(),!s){s=!0,d=0;var r=c;if(angular.isArray(c)&&c.length>0&&(r=c[0],a.absolute&&void 0!==c[1]&&(r=c[1],r&&(r+=60*new Date(1e3*r).getTimezoneOffset()))),angular.isString(r)){var o=parseInt(r.replace(/[$]/g,""));r=r===o+""?o:parseDateString(r)}else angular.isNumber(r)||(r=0);r=r?r:0,e.begin(a),i.hide();var u="";"yyyy"==a.format&&(u=',"viewMode":2,"minViewMode":2');var f='<input ng-controller="adeDateDummyCtrl" ade-calpop=\'{"format":"'+a.format+'"'+u+'}\' ng-model="adePickDate" ng-init="adePickDate='+r+'" type="text" class="'+a.className+'" />';t(f)(n).insertAfter(i),l=i.next("input"),l.focus(),setTimeout(function(){l.focus()}),e.setupBlur(l,h),e.setupKeys(l,h),n.$parent&&n.$parent.$localApply?n.$parent.$localApply():n.$apply()}}),r.$observe("adeDate",function(t){return a=e.parseSettings(t,{className:"input-medium",format:"MMM d, yyyy",absolute:!0}),i})}}}]),angular.module("ADE").filter("decimal",["$filter",function(e){return function(t,n){var i="",n=n||2;return angular.isArray(t)&&(t=t[0]),angular.isString(t)&&(t=parseFloat(t)),angular.isUndefined(t)||!angular.isNumber(t)?i:i=e("number")(t,n)}}]),angular.module("ADE").filter("email",["$filter",function(e){return function(t){return t?(angular.isArray(t)&&(t=t[0]),angular.isString(t)?e("linky")(t):t+""):""}}]),angular.module("ADE").directive("adeIcon",["ADE","$compile",function(e,t){var n=e.icons.length,i="";n>0&&(i='<a class="ade-clear">clear</a>');for(var r=0;n>r;r++)i+='<span class="icon-'+e.icons[r]+'"></span>';return{require:"?ngModel",restrict:"A",link:function(n,r,o,a){var s={},l="",c="",u=!1,d=0,h=null,f=null;null!==a&&void 0!==a&&(a.$render=function(){return c=l=a.$modelValue,(void 0===l||null===l)&&(l=""),a.$viewValue});var p=function(t,i){window.clearTimeout(f),c=l,l=i||c,d=t,3!==d&&a.$setViewValue(l),u=!1,n.ADE_hidePopup(),e.done(s,c,l,d),1==d?(r.data("dontclick",!0),r.focus()):-1==d&&(r.data("dontclick",!0),r.focus()),n.$digest()},m=function(){var e=$("#adeIconBox"),t=r.offset(),n=t.left-7,i=t.top+r[0].offsetHeight;e.css({left:n,top:i});var o=$(window).height(),a=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,s=e[0].offsetTop+e[0].offsetHeight;s-a>o&&e.css({top:i-e[0].offsetHeight-r.height()-5,left:n}).addClass("flip")};return r.bind("click",function(o){r.unbind("keypress.ADE"),o.preventDefault(),o.stopPropagation(),e.begin(s);var a=angular.element("."+e.popupClass),l=angular.element(o.target),c=l.attr("class"),d=angular.isDefined(c)&&null!==c.match("icon")&&c.match("icon").length&&l.parent()[0]==r[0],g=l[0]==r[0];if(!(!d&&!g||a&&a.length)){u=!0,t('<div id="adeIconBox" class="'+e.popupClass+' ade-icons dropdown-menu open"><h4>Select an Icon</h4>'+i+'<div class="ade-hidden"><input id="invisicon" type="text" /></div></div>')(n).insertAfter(r),m(),h=angular.element("#invisicon");var v=r.next(".ade-popup"),y=v.find(".ade-clear"),b=v.find("span");y.bind("click",function(){p(0,"ban-circle")}),angular.forEach(b,function(e){var t=angular.element(e);t.bind("click",function(){window.clearTimeout(f);var e=t.attr("class");if(e.match("icon")){var n=e.substr(5);p(0,n)}})}),h.focus(),e.setupKeys(h,p),h.bind("blur",function(){f=window.setTimeout(function(){p(0)},500)})}}),r.bind("focus",function(){return r.data("dontclick")?(window.setTimeout(function(){r.data("dontclick",!1)},100),r.bind("keypress.ADE",function(e){var t=e.keyCode?e.keyCode:e.which;13==t&&(e.preventDefault(),e.stopPropagation(),r.click())}),void 0):(r.click(),void 0)}),r.bind("blur",function(){r.unbind("keypress.ADE")}),o.$observe("adeIcon",function(t){return s=e.parseSettings(t,{}),r})}}}]),angular.module("ADE").filter("icon",["ADE",function(e){return function(t){angular.isArray(t)&&(t=t[0]),t||(t="ban-circle");for(var n=!1,i=e.icons.length,r=0;i>r;r++)if(t===e.icons[r]){n=!0;break}return n||(t="ban-circle"),'<span class="ade-icon icon-'+t+'">'}}]),angular.module("ADE").filter("integer",["$filter",function(e){return function(t){var n="";return angular.isArray(t)&&(t=t[0]),angular.isString(t)&&(t=parseFloat(t)),angular.isUndefined(t)||!angular.isNumber(t)?n:n=e("number")(t,0)}}]),angular.module("ADE").directive("adeDuration",["ADE","$compile","$filter",function(e,t,n){return{require:"?ngModel",restrict:"A",link:function(i,r,o,a){var s={},l=!1,c=null,u="",d="",h=0;null!==a&&void 0!==a&&(a.$render=function(){return d=u=a.$modelValue,(void 0===u||null===u)&&(u=""),a.$viewValue});var f=function(t){d=u,h=t,3!=t&&(u=c.val(),a.$setViewValue(u)),r.show(),c.remove(),l=!1,e.done(s,d,u,h),i.$digest()};return r.bind("click",function(){l||(l=!0,h=0,u=n("duration")(u),e.begin(s),r.hide(),t('<input type="text" class="'+s.className+'" value="'+u+'" />')(i).insertAfter(r),c=r.next("input"),c.focus(),e.setupBlur(c,f),e.setupKeys(c,f))}),o.$observe("adeDuration",function(t){return s=e.parseSettings(t,{className:"input-medium"}),r})}}}]),angular.module("ADE").filter("duration",function(){function e(e){var t="",n=0,i=0;return 60>e&&e>0?t=1===e?e+"min":e+"mins":e>=60?(i=e%60,n=Math.round((e-i)/60),t=1===n?n+"hr":n+"hrs",i>0&&(t+=1===i?" "+i+"min":" "+i+"mins")):t="",t}function t(e){var t=parseFloat(e,10);return-1!==e.indexOf("h")&&(t=60*t),Math.round(t)}function n(e){var t=e.split(" ");return 60*parseFloat(t[0],10)+parseFloat(t[1],10)}return function(i){if(!i)return"";angular.isArray(i)&&(i=i[0]);var r="";if(!isNaN(i))return e(i);if(!angular.isString(i))return"";var o=i.split(" ");switch(o.length){case 1:r=t(i),r=e(r);break;case 2:r=n(i),r=e(r);break;default:r=""}return r}}),angular.module("ADE").directive("adeList",["ADE","$compile",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a={},s=!1,l=null,c="",u="",d=0;null!==o&&void 0!==o&&(o.$render=function(){return u=c=o.$modelValue,(void 0===c||null===c)&&(c=""),o.$viewValue});var h=function(t){if(u=c,d=t,3!=t){if(c=l.data().select2.data(),angular.isArray(c))if(c.length>0){var r=[];angular.forEach(c,function(e){r.push(e.text)}),c=r}else c="";else c=angular.isObject(c)&&c.text?c.text:c?c.text:"";o.$setViewValue(c)}i.show(),l.select2("destroy"),l.remove(),s=!1,e.done(a,u,c,d),n.$$phase||n.$digest()},f=function(){l.select2("destroy"),l.remove(),i.show(),e.done(a,u,c,3),s=!1},p=function(e){"singleRemove"===e[0]?h(e.exit):"emptyTabReturn"===e[0]?h(e.exit):"bodyClick"===e[0]?h(0):a.multiple||h(e.exit)};return i.bind("click",function(){if(!s){s=!0,d=0,e.begin(a),i.hide();var r="",o="";a.multiple?r='multiple="multiple"':o=",placeholder:'List...'";var u="";a.query&&(u=",query:"+a.query);var h="";a.selection&&(h=",initSelection:"+a.selection);var m="";a.listId&&(m=",listId:'"+a.listId+"'");var g='<input class="ade-list-input" type="hidden" ui-select2={width:\'resolve\',allowClear:true,openOnEnter:false,searchClear:true,closeOnRemove:false,closeOnSelect:false,allowAddNewValues:true'+u+m+h+o+"} "+r+" />";t(g)(n).insertAfter(i),l=i.next("input"),angular.isString(c)&&(c=c.split(",")),l.val(c),setTimeout(function(){n.selection(l,function(e){l.select2("data",e),l.select2("open")},a.listId)}),l.on("cancel",f),l.on("change",p)}}),r.$observe("adeList",function(t){return a=e.parseSettings(t,{multiple:!1}),i})}}}]),angular.module("ADE").directive("uiSelect2",["$http",function(){var e={};return{require:"?ngModel",compile:function(t,n){var i,r=t.is("select"),o=void 0!==n.multiple;return function(t,n,a,s){var l=angular.extend({},e,t.$eval(a.uiSelect2));if(o&&(l.multiple=!0),s&&(s.$render=function(){o&&!s.$modelValue?n.select2("data",[]):angular.isObject(s.$modelValue)?n.select2("data",s.$modelValue):n.select2("val",s.$modelValue)},i&&t.$watch(i,function(e){e&&setTimeout(function(){n.select2("val",s.$viewValue),n.trigger("change")})}),!r&&(n.bind("change",function(){s.$setViewValue(n.select2("data")),t.$digest()}),l.initSelection))){var c=l.initSelection;l.initSelection=function(e,t){c(e,function(e){s.$setViewValue(e),t(e)},l.listId)}}a.$observe("disabled",function(e){n.select2(e&&"disable"||"enable")}),a.ngMultiple&&t.$watch(a.ngMultiple,function(){n.select2(l)}),n.val(t.$eval(a.ngModel)),setTimeout(function(){n.select2(l)})}}}}]),angular.module("ADE").filter("list",["$filter",function(){return function(e,t){if(!e)return"";if(angular.isString(e))return e;if(!angular.isArray(e))return"";if(t)return e[0];var n="";return $.each(e,function(e,t){n&&(n+=", "),n+=t}),n}}]),function(e){void 0===e.fn.each2&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,r=this.length;r>++i&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,n){var i,r=0,o=n.length;if(e===t)return-1;if(e.constructor===String){for(;o>r;r+=1)if(0===e.localeCompare(n[r]))return r}else for(;o>r;r+=1)if(i=n[r],i.constructor===String){if(0===i.localeCompare(e))return r}else if(i===e)return r;return-1}function i(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?0===e.localeCompare(n):n.constructor===String?0===n.localeCompare(e):!1}function r(t,n){var i,r,o;if(null===t||1>t.length)return[];for(i=t.split(n),r=0,o=i.length;o>r;r+=1)i[r]=e.trim(i[r]);return i}function o(e){return e.outerWidth()-e.width()}function a(n){var i="keyup-change-value";n.bind("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.bind("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function s(n){n.bind("mousemove",function(n){var i=e.data(document,"select2-lastpos");(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,i){i=i||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function u(e,t){var i=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function d(e){e.preventDefault(),e.stopPropagation()}function h(t){if(!N){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);N=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),e("body").append(N)}return N.text(t.val()),N.width()}function f(e,n,i){var r=e.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>r?(i.push(e),t):(i.push(e.substring(0,r)),i.push("<span class='select2-match'>"),i.push(e.substring(r,r+o)),i.push("</span>"),i.push(e.substring(r+o,e.length)),t)}function p(t){var n,i=0,r=null,o=t.quietMillis||100;return function(a){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,o=t.data,s=t.transport||e.ajax,l=t.traditional||!1,c=t.type||"GET";o=o.call(this,a.term,a.page,a.context),null!==r&&r.abort(),r=s.call(null,{url:t.url,dataType:t.dataType,data:o,type:c,traditional:l,success:function(e){if(!(i>n)){var r=t.results(e,a.page);a.callback(r)}}})},o)}}function m(n){var i,r=n,o=function(e){return""+e.text};return e.isArray(r)||(o=r.text,e.isFunction(o)||(i=r.text,o=function(e){return e[i]}),r=r.results),function(n){var i,a=n.term,s={results:[]};return""===a?(n.callback({results:r}),t):(i=function(t,r){var s,l;if(t=t[0],t.children){s={};for(l in t)t.hasOwnProperty(l)&&(s[l]=t[l]);s.children=[],e(t.children).each2(function(e,t){i(t,s.children)}),s.children.length&&r.push(s)}else n.matcher(a,o(t))&&r.push(t)},e(r).each2(function(e,t){i(t,s.results)}),n.callback(s),t)}}function g(n){return e.isFunction(n)?n:function(i){var r=i.term,o={results:[]};e(n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||i.matcher(r,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function v(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function y(t){return e.isFunction(t)?t():t}function b(t){var n=0;return e.each(t,function(e,t){t.children?n+=b(t.children):n++}),n}function w(e,n,r,o){var a,s,l,c,u,d=e,h=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return t;for(;;){for(s=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],s=e.indexOf(u),!(s>=0));l++);if(0>s)break;if(a=e.substring(0,s),e=e.substring(s+u.length),a.length>0&&(a=o.createSearchChoice(a,n),a!==t&&null!==a&&o.id(a)!==t&&null!==o.id(a))){for(h=!1,l=0,c=n.length;c>l;l++)if(i(o.id(a),o.id(n[l]))){h=!0;break}h||r(a)}}return 0!=d.localeCompare(e)?e:t}function C(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var x,k,S,E,T,N;x={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case x.LEFT:case x.RIGHT:case x.UP:case x.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case x.SHIFT:case x.CTRL:case x.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},T=function(){var e=1;return function(){return e++}}(),e(document).delegate("body","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})}),e(document).ready(function(){e(document).delegate("body","mousedown touchend",function(n){var i,r=e(n.target).closest("div.select2-container").get(0);if(r)e(document).find("div.select2-container-active").each(function(){this!==r&&(e(this).data("select2").blur(),e(this).data("select2").triggerChange(["bodyClick"]))});else{r=e(n.target).closest("div.select2-drop").get(0),e(document).find("div.select2-drop-active").each(function(){this!==r&&e(this).data("select2").blur()
});var o=e(".select2-container");o.length&&e.each(o,function(){e(this).next().hasClass("ade-list-input")&&n.target!==e(this)&&e(this).find(".select2-drop").not(":visible")&&(e(this).data("select2").exit=0,e(this).data("select2").triggerChange(["bodyClick"]))})}r=e(n.target),i=r.attr("for"),"LABEL"===n.target.tagName&&i&&i.length>0&&(r=e("#"+i),r=r.data("select2"),r!==t&&(r.focus(),n.preventDefault()))})}),k=C(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+T()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),n.element.attr("class")!==t&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(y(n.containerCss)),this.container.addClass(y(n.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(y(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(o),this.search=r=this.container.find("input.select2-input"),r.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),s(this.results),this.dropdown.delegate(o,"mousemove-filtered",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),d(e)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),d(e))}),a(r),r.bind("keyup-change",this.bind(this.updateResults)),r.bind("focus",function(){r.addClass("select2-focused")," "===r.val()&&r.val("")}),r.bind("blur",function(){r.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),d(t)})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var o,a,s,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id,l=this;a=function(i,r,c){var u,d,h,f,p,m,g,v,y;for(u=0,d=i.length;d>u;u+=1)h=i[u],f=s(h)!==t,p=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+c),m.addClass("select2-result"),m.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(h)),g=e("<div></div>"),g.addClass("select2-result-label"),y=n.formatResult(h,g,o),y!==t&&g.html(l.opts.escapeMarkup(y)),m.append(g),p&&(v=e("<ul></ul>"),v.addClass("select2-result-sub"),a(h.children,v,c+1),m.append(v)),m.data("select2-data",h),r.append(m)},a(r,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),a?(n.query=this.bind(function(n){var i,r,a,s={results:[],more:!1},l=n.term;a=function(e,t){var i;e.is("option")?n.matcher(l,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")}):e.is("optgroup")&&(i={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){a(t,i.children)}),i.children.length>0&&t.push(i))},i=o.children(),this.getPlaceholder()!==t&&i.length>0&&(r=i[0],""===e(r).text()&&(i=i.not(r))),i.each2(function(e,t){a(t,s.results)}),n.callback(s)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=p(n.ajax)):"data"in n?n.query=m(n.data):"tags"in n&&(n.query=g(n.tags),n.createSearchChoice=function(e){return{id:e,text:e}},n.initSelection=function(o,a){var s=[];e(r(o.val(),n.separator)).each(function(){var r=this,o=this,a=n.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){return i(this.id,r)?(o=this.text,!1):t}),s.push({id:r,text:o})}),a(s)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val(),exit:this.exit}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r=this.container.offset(),o=this.container.outerHeight(),a=this.container.outerWidth(),s=this.dropdown.outerHeight(),l=e(window).scrollTop()+document.documentElement.clientHeight,c=r.top+o,u=r.left,d=l>=c+s,h=r.top-s>=this.body().scrollTop(),f=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(t=this.body().offset(),c-=t.top,u-=t.left),f?(n=!0,!h&&d&&(n=!1)):(n=!1,!d&&h&&(n=!0)),n?(c=r.top-s,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=e.extend({top:c,left:u,width:a},y(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,n=this.containerSelector,i="scroll."+t,r="resize."+t;this.container.parents().each(function(){e(this).bind(i,function(){var t=e(n);0==t.length&&e(this).unbind(i)})}),e(window).bind(r,function(){var t=e(n);0==t.length&&e(window).unbind(r),t.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)}),e(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var n,i,r,o,a,s,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return c.scrollTop(0),t;n=c.find(".select2-result-selectable"),r=e(n[i]),o=r.offset().top+r.outerHeight(),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight())),a=c.offset().top+c.outerHeight(),o>a&&c.scrollTop(c.scrollTop()+(o-a)),s=r.offset().top-c.offset().top,0>s&&c.scrollTop(c.scrollTop()+s)}},moveHighlight:function(t){for(var n=this.results.find(".select2-result-selectable"),i=this.highlight();i>-1&&n.length>i;){i+=t;var r=e(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")){this.highlight(i);break}}},highlight:function(i,r){var o=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(i>=o.length&&(i=o.length-1),0>i&&(i=0),o.removeClass("select2-highlighted"),""!==r&&e(o[i]).addClass("select2-highlighted"),this.ensureHighlightVisible(),t)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.results.find(".select2-result-selectable");this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),0>=e&&(n.addClass("select2-active"),this.opts.query({term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),e.more===!0?(n.detach().appendTo(t).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i)})})))},tokenize:function(){},updateResults:function(n){function r(){c.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(e){c.html(d.opts.escapeMarkup(e)),r()}var a,s,l=this.search,c=this.results,u=this.opts,d=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){if(l.addClass("select2-active"),u.maximumSelectionSize>=1&&(a=this.data(),e.isArray(a)&&a.length>=u.maximumSelectionSize&&v(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(u.maximumSelectionSize)+"</li>"),t;if(l.val().length<u.minimumInputLength&&v(u.formatInputTooShort,"formatInputTooShort"))return o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"),t;o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),s=this.tokenize(),s!=t&&null!=s&&l.val(s),this.resultsPage=1,u.query({term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(a){var s;if(this.opened()){if(this.context=a.context===t?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(null,l.val(),a.results),s!==t&&null!==s&&d.id(s)!==t&&null!==d.id(s)&&0===e(a.results).filter(function(){return i(d.id(this),d.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&v(u.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),t;c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&v(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,n,l.val()),r()}})})}},cancel:function(){this.close(),this.opts.element.trigger(e.Event("cancel"))},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),n=t.closest(".select2-result-selectable").data("select2-data");n?(t.addClass("select2-disabled"),this.highlight(e),this.onSelect(n)):(this.close(),this.focusSearch(),this.triggerChange(["emptyTabReturn"]))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,r,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,a=i.length;a>o;o+=1)if(r=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.attr("style","width: "+i)}}),S=C(k,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container"}).html(["    <a class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,n=this.container,i=this.dropdown,r=!1;this.selection=e=n.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===x.PAGE_UP||e.which===x.PAGE_DOWN)return d(e),t;if(this.opened())switch(e.which){case x.UP:case x.DOWN:return this.moveHighlight(e.which===x.UP?-1:1),d(e),t;case x.TAB:return this.exit=e.shiftKey?-1:1,this.selectHighlighted(),d(e),t;case x.ENTER:return this.exit=e.shiftKey?-2:2,this.selectHighlighted(),d(e),t;case x.ESC:return this.cancel(e),d(e),t}else{if(e.which===x.TAB||x.isControl(e)||x.isFunctionKey(e)||e.which===x.ESC)return;if(this.opts.openOnEnter===!1&&e.which===x.ENTER)return;if(this.open(),e.which===x.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("mousedown",this.bind(function(){r=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),r=!1})),i.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===x.PAGE_UP||e.which===x.PAGE_DOWN)return d(e),t;if(!(e.which===x.TAB||x.isControl(e)||x.isFunctionKey(e)||e.which===x.ESC||this.opts.openOnEnter===!1&&e.which===x.ENTER)){if(e.which==x.DELETE||e.which==x.BACKSPACE)return this.opts.allowClear&&this.clear(),d(e),t;if(this.open(),e.which===x.ENTER)return d(e),t;if(48>e.which)return d(e),t;var n=String.fromCharCode(e.which).toLowerCase();e.shiftKey&&(n=n.toUpperCase()),this.search.focus(),this.search.val(n),d(e)}}})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),d(e),this.opts.closeOnRemove&&this.close(),this.triggerChange(["singleRemove"]),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())},this.opts.listId)}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,n){var i=t.find(":selected");e.isFunction(n)&&n({id:i.attr("value"),text:i.text()})}),t},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(n,r,o){var a=0,s=this,l=!0;this.results.find(".select2-result-selectable").each2(function(e,n){return i(s.id(n.data("select2-data")),s.opts.element.val())?(a=e,!1):t}),this.highlight(a,o),r===!0&&(l=this.showSearchInput=b(n.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[l?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[l?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e){this.opts.element.val(),this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),this.triggerChange()},updateSelection:function(e){var n,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),n=this.opts.formatSelection(e,i),n!==t&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=null,i=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],this.select)this.select.val(e).find(":selected").each2(function(e,t){return n={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(n),this.setPlaceholder();else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");if(!e)return this.clear(),t;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(e){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),t)}}),E=C(k,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,n){var i=[];t.find(":selected").each2(function(e,t){i.push({id:t.attr("value"),text:t.text()})}),e.isFunction(n)&&n(i)}),t},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===x.BACKSPACE&&""===this.search.val()){this.close();var i,r=n.find(".select2-search-choice-focus");if(r.length>0)return this.unselect(r.first()),this.search.width(10),d(e),t;i=n.find(".select2-search-choice"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case x.UP:case x.DOWN:return this.moveHighlight(e.which===x.UP?-1:1),d(e),t;case x.ENTER:return this.exit=e.shiftKey?-2:2,this.selectHighlighted(),d(e),t;case x.TAB:return this.exit=e.shiftKey?-1:1,this.selectHighlighted(),d(e),t;case x.ESC:return this.cancel(e),d(e),t}e.which===x.TAB||x.isControl(e)||x.isFunctionKey(e)||e.which===x.BACKSPACE||e.which===x.ESC||(this.opts.openOnEnter!==!1||e.which!==x.ENTER)&&(this.open(),(e.which===x.PAGE_UP||e.which===x.PAGE_DOWN)&&d(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],r=[],o=this;e(t).each(function(){0>n(o.id(this),i)&&(i.push(o.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e){this.addSelectedChoice(e),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.opts.searchClear&&(this.countSelectableResults()>0?(this.clearSearch(),this.close(),this.open()):(this.clearSearch(),this.open())),this.triggerChange({added:e}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch(),this.opts.element.trigger(e.Event("cancel"))},addSelectedChoice:function(t){var n,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#select2Line2116' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=this.id(t),o=this.getVal();n=this.opts.formatSelection(t,i),i.find("div").replaceWith("<div>"+this.opts.escapeMarkup(n)+"</div>"),i.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.opts.closeOnRemove?this.close():(this.close(),this.open()),this.focusSearch()})).dequeue(),d(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",t),i.insertBefore(this.searchContainer),o.push(r),this.setVal(o)},unselect:function(e){var t,i,r=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),i=n(this.id(t),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),e.remove(),this.triggerChange({removed:t})},postprocessResults:function(e,i,r){var o=this.getVal(),a=this.results.find(".select2-result-selectable"),s=this.results.find(".select2-result-with-children"),l=this;a.each2(function(e,t){var i=l.id(t.data("select2-data"));n(i,o)>=0?t.addClass("select2-disabled").removeClass("select2-result-selectable"):t.removeClass("select2-disabled").addClass("select2-result-selectable")}),s.each2(function(e,t){0==t.find(".select2-result-selectable").length?t.addClass("select2-disabled"):t.removeClass("select2-disabled")}),a.each2(function(e,n){return!n.hasClass("select2-disabled")&&n.hasClass("select2-result-selectable")?(l.highlight(0,r),!1):t})},resizeSearch:function(){var e,t,n,i,r,a=o(this.search);e=h(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(t-i)-a,e>r&&(r=n-a),40>r&&(r=n-a),this.search.width(r)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var n,i=[],r=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],!n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),t;if(this.setVal(n),this.select)this.select.find(":selected").each(function(){i.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(i);else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(r.id);r.setVal(n),r.updateSelection(t),r.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n){var i,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n||(n=[]),i=e.map(n,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(n),this.clearSearch(),t)}}),e.fn.select2=function(){var i,r,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===s.length||"object"==typeof s[0])i=0===s.length?{}:e.extend({},s[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.attr("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),r=a?new E:new S,r.init(i);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(0>n(s[0],l))throw"Unknown method: "+s[0];if(o=t,r=e(this).data("select2"),r===t)return;if(o="container"===s[0]?r.container:r[s[0]].apply(r,s.slice(1)),o!==t)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",closeOnSelect:!0,closeOnRemove:!0,searchClear:!1,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n){var i=[];return f(e.text,n.term,i),i.join("")},formatSelection:function(e){return e?e.text:t},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:w,escapeMarkup:function(e){return e&&"string"==typeof e?e.replace(/&/g,"&amp;"):e},blurOnChange:!1},window.Select2={query:{ajax:p,local:m,tags:g},util:{debounce:l,markMatch:f},"class":{"abstract":k,single:S,multi:E}}}}(jQuery),angular.module("ADE").filter("rich",["$filter",function(){return function(e,t){if(!e)return"";var n,i=t||100;angular.isArray(e)&&(e=e[0]),e.split||(e=""+e);var r=$(e).text();r&&(e=r);var o=e.split(/\r?\n|\r/);return e=o[0],n=e.length>i?e.substring(0,i)+"...":o.length>1?e+"...":e}}]),angular.module("ADE").directive("adeRich",["ADE","$compile",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a=Math.floor(1e5*Math.random()),s={},l=!1,c=null,u="",d="",h=0,f=null,p=null,m=null;null!==o&&void 0!==o&&(o.$render=function(){return d=u=m=o.$modelValue,(void 0===u||null===u)&&(u=""),o.$viewValue});var g=function(t){d=u,h=t;var r=$("#tinyText"+a+"_ifr").contents().find("#tinymce")[0],f=$(r).text().length;3!=t&&(!p||p>=f)&&(p>=s.maxLength&&(p=f),void 0!=r&&(u=r.innerHTML,('<p><br data-mce-bogus="1"></p>'===u||"<p></p>"===u||"<p><br></p>"===u)&&(u=""),u=$.trim(u),o.$setViewValue(u))),c.remove(),l=!1,e.done(s,d,u,h),1==h?(i.data("dontclick",!0),i.focus()):-1==h&&(i.data("dontclick",!0),i.focus()),$(document).off("click.ADE"),$(document).off("keydown.ADE"),n.$digest()},v=function(){n.ADE_hidePopup();var r=i.offset(),o=r.left,a=r.top+i[0].offsetHeight-2,s=u.replace?u.replace(/\n/g,"<br />"):u;s&&(t('<div class="'+e.popupClass+' ade-rich dropdown-menu open" style="left:'+o+"px;top:"+a+'px"><div class="ade-richview">'+s+"</div></div>")(n).insertAfter(i),$(".ade-richview").find("a").not('[href^="http"],[href^="https"],[href^="mailto:"],[href^="#"]').each(function(){var e=this.getAttribute("href"),t=-1!==e.indexOf("@")?"mailto:":"http://";
this.setAttribute("href",t+e)}),l=!1,c=i.next(".ade-rich"),c.bind("mouseenter.ADE",x),c.bind("mouseleave.ADE",k),c.bind("click.ADE",S))},y=function(){var e=$("#richText"),t=e.offset(),n=$(window).height(),r=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,o=e[0].offsetTop+e[0].offsetHeight;o-r>n&&e.css({top:t.top-e[0].offsetHeight-i.height()-13,left:t.left}).addClass("flip")},b=function(e){var t=0===$(".ade-popup").has(e.target).length,n="block"===$(".mce-floatpanel").css("display");if(!n&&t){for(var i=e.target,r=!1;i;){if(0===i.id.search("mce_")){r=!0;break}i=i.parentElement}r||(k(),g(0),$(document).off("mousedown.ADE"))}},w=function(e){var t=[27,9,8,46,37,38,39,40];if(p&&-1==t.indexOf(e.keyCode)){var n=$("#tinyText"+a+"_ifr").contents().find("#tinymce")[0],i=$(n).find("p")[0].innerHTML,r=$(n).text().length;r>=p&&($(n).find("p")[0].innerHTML=i,e.stopPropagation(),e.preventDefault())}switch(e.keyCode){case 27:k(),g(3),e.preventDefault(),$(document).off("mousedown.ADE");break;case 9:var o=e.shiftKey?-1:1;k(),g(o),e.preventDefault(),$(document).off("mousedown.ADE");break;default:}},C=function(){window.clearTimeout(f),c&&c.unbind(".ADE"),n.ADE_hidePopup();var r='<textarea id="tinyText'+a+'" class="'+s.className+'" style="height:30px">'+u+"</textarea>",o=i.offset(),d=o.left,h=o.top+i[0].offsetHeight,g='<div id="richText" class="'+e.popupClass+' ade-rich dropdown-menu open" style="left:'+d+"px;top:"+h+'px">'+r+"</div>";t(g)(n).insertAfter(i),p=m&&m.length>s.maxLength?m.length:s.maxLength,tinymce.init({selector:"#tinyText"+a,theme:"modern",menubar:"false",plugins:["textcolor","link"],toolbar:"styleselect | bold italic | bullist numlist outdent indent | hr | link | forecolor backcolor",baseURL:"",handleKeyEvents:w}),l=!0,c=i.next(".ade-rich"),$(document).bind("mousedown.ADE",b),f=window.setTimeout(function(){tinymce.execCommand("mceFocus",!1,"tinyText"+a)},100)},x=function(){if(window.clearTimeout(f),!angular.element(".ade-rich").hasClass("open")||!angular.element(".ade-rich").find("textarea").length){var e=i.next(".ade-rich");e.length||v()}},k=function(){var t=i.next("."+e.popupClass);t.length&&!l&&(f=window.setTimeout(function(){n.ADE_hidePopup(i)},400))},S=function(){window.clearTimeout(f),l||(l=!0,h=0,e.begin(s),C(),y())},E=function(e){13===e.keyCode&&S()};return i.bind("mouseenter.ADE",x),i.bind("mouseleave.ADE",k),i.bind("click.ADE",S),i.bind("keydown.ADE",E),r.$observe("adeRich",function(t){return s=e.parseSettings(t,{className:"input-xlarge"}),i})}}}]),angular.module("ADE").filter("money",["$filter",function(e){return function(t){var n,i="";return angular.isUndefined(t)?i:(angular.isArray(t)&&(t=t[0]),angular.isString(t)&&(t=t.replace("(","-").replace(")",""),t=parseFloat(t.replace(/[$]/g,""))),angular.isNumber(t)&&(n=parseFloat(t),i=0!==n?e("currency")(n):i),i)}}]),angular.module("ADE").filter("percent",function(){return function(e){angular.isArray(e)&&(e=e[0]);var t=parseFloat(e),n="";return isNaN(t)||(n=t+"%"),n}}),angular.module("ADE").filter("phone",function(){return function(e){if(!e)return"";angular.isArray(e)&&(e=e[0]),angular.isString(e)||(e=""+e);var t,n=e.replace(/[\-\.() ]/g,"");return t=!isNaN(parseInt(n))&&n.length>=7?'<a href="tel:'+n+'">'+e+"</a>":e}}),angular.module("ADE").directive("adeRating",["ADE","$compile","$filter",function(e){return{require:"?ngModel",restrict:"A",link:function(t,n,i,r){var o={},a="",s="",l="";null!==r&&void 0!==r&&(r.$render=function(){return s=a=r.$modelValue,r.$viewValue});var c=function(n){e.begin(o),n>o.num&&(n=o.num),0>n&&(n=0),s=a,a=n,l=a,e.done(o,s,a,0),r.$setViewValue(a),t.$digest()};n.bind("click",function(e){var t=angular.element(e.target).data("position");void 0!==t&&c(t)});var u=function(){n.bind("keydown.ADE",function(e){e.keyCode>=96&&105>=e.keyCode?(e.preventDefault(),e.stopPropagation(),c(e.keyCode-96)):e.keyCode>=48&&57>=e.keyCode?(e.preventDefault(),e.stopPropagation(),c(e.keyCode-48)):37==e.keyCode&&o.arrows?(e.preventDefault(),e.stopPropagation(),c(a-1)):39==e.keyCode&&o.arrows&&(e.preventDefault(),e.stopPropagation(),angular.isNumber(a)||(a=0),c(a+1))})};return n.bind("focus",u),n.bind("blur",function(){n.unbind("keydown.ADE")}),i.$observe("adeRating",function(t){return o=e.parseSettings(t,{num:5,arrows:!0}),n})}}}]),angular.module("ADE").filter("rating",function(){return function(e,t){var n=23,i=5,r="rating",o="off",a=10;angular.isArray(e)&&(e=e[0]),t&&t.width&&(n=t.width),t&&t.num&&(i=t.num),t&&t.className&&(r=t.className);var s=n*i+a,l='<div class="ade-'+r+'" style="width:'+s+'px;">';l+='<div class="ade-rate-container">';for(var c=0;i>=c;c++)o=e>=c?"on":"off",l+=0===c?'<a class="ade-rate-one ade-zero" data-position="'+c+'">&nbsp;</a>':'<a class="ade-rate-one ade-'+o+'" data-position="'+c+'"></a>';return l+="</div></div>"}}),angular.module("ADE").directive("adeText",["ADE","$compile",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a={},s=!1,l=null,c="",u="",d=0;null!==o&&void 0!==o&&(o.$render=function(){return u=c=o.$modelValue,(void 0===c||null===c)&&(c=""),o.$viewValue});var h=function(t){u=c,d=t,3!=t&&(c=l.val(),o.$setViewValue(c)),i.show(),l.remove(),s=!1,e.done(a,u,c,d),n.$digest()};return i.bind("click",function(){if(!s){s=!0,d=0,e.begin(a);var r="";void 0!==a.maxlength&&(r="maxlength='"+a.maxlength+"'"),angular.isString(c)||(c=""+c),i.hide(),t('<input type="text" class="'+a.className+'" value="'+c.replace(/"/g,"&quot;")+'" '+r+" />")(n).insertAfter(i),l=i.next("input"),l.focus(),e.setupBlur(l,h),e.setupKeys(l,h)}}),r.$observe("adeText",function(t){return a=e.parseSettings(t,{className:"input-medium"}),i})}}}]),!function(e){var t=function(t,n){this.$element=e(t),this.isInput=this.$element.is("input"),this.options=e.extend({},e.fn.timepicker.defaults,n,this.$element.data()),this.minuteStep=this.options.minuteStep||this.minuteStep,this.secondStep=this.options.secondStep||this.secondStep,this.showMeridian=this.options.showMeridian||this.showMeridian,this.showSeconds=this.options.showSeconds||this.showSeconds,this.showInputs=this.options.showInputs||this.showInputs,this.disableFocus=this.options.disableFocus||this.disableFocus,this.template=this.options.template||this.template,this.modalBackdrop=this.options.modalBackdrop||this.modalBackdrop,this.defaultTime=this.options.defaultTime||this.defaultTime,this.open=!1,this.init()};t.prototype={constructor:t,init:function(){this.$element.parent().hasClass("input-append")?(this.$element.parent(".input-append").find(".add-on").on("click",e.proxy(this.showWidget,this)),this.$element.on({focus:e.proxy(this.highlightUnit,this),click:e.proxy(this.highlightUnit,this),keypress:e.proxy(this.elementKeypress,this),blur:e.proxy(this.blurElement,this)})):this.template?this.$element.on({focus:e.proxy(this.showWidget,this),click:e.proxy(this.showWidget,this),blur:e.proxy(this.blurElement,this)}):this.$element.on({focus:e.proxy(this.highlightUnit,this),click:e.proxy(this.highlightUnit,this),keypress:e.proxy(this.elementKeypress,this),blur:e.proxy(this.blurElement,this)}),this.$widget=e(this.getTemplate()).appendTo("body"),this.$widget.on({click:e.proxy(this.widgetClick,this),mousedown:e.proxy(this.mousedown,this)}),this.showInputs&&(this.picker=this.$widget.find("input").on({click:function(){this.select()},keypress:e.proxy(this.widgetKeypress,this),change:e.proxy(this.updateFromWidgetInputs,this)})),this.setDefaultTime(this.defaultTime)},showWidget:function(t){if(t.stopPropagation(),t.preventDefault(),!this.open){this.isInput||e(document).on("mousedown",e.proxy(this.hide,this)),this.$element.trigger("show"),this.disableFocus&&this.$element.blur();var n=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.updateFromElementVal(),e("html").trigger("click.timepicker.data-api").one("click.timepicker.data-api",e.proxy(this.hideWidget,this)),"modal"===this.template?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):(this.$widget.css({top:n.top+n.height,left:n.left}),this.open||this.$widget.addClass("open")),this.open=!0,this.$element.trigger("shown")}},hideWidget:function(e){var t=Date.parse(this.$element.val());this.time=null!==t?t.getTime()/1e3:"",this.save=e?!0:!1,this.$element.trigger({type:"hide",time:this.time,shouldSave:this.save}),"modal"===this.template?this.$widget.modal("hide"):this.$widget.removeClass("open"),this.open=!1,this.$element.trigger("hidden")},mousedown:function(e){e.stopPropagation(),e.preventDefault()},removeWidget:function(){this.$widget.remove()},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target).closest("a").data("action");n&&(this[n](),this.update())},widgetKeypress:function(t){var n=e(t.target).closest("input").attr("name");switch(t.keyCode){case 9:this.showMeridian?"meridian"==n&&this.hideWidget():this.showSeconds?"second"==n&&this.hideWidget():"minute"==n&&this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.update();break;case 40:switch(n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.update();break;case 13:this.updateElement(),this.hideWidget()}},elementKeypress:function(e){switch(this.$element.get(0),e.keyCode){case 0:break;case 9:this.updateFromElementVal(),this.showMeridian?"meridian"!=this.highlightedUnit&&(e.preventDefault(),this.highlightNextUnit()):this.showSeconds?"second"!=this.highlightedUnit&&(e.preventDefault(),this.highlightNextUnit()):"minute"!=this.highlightedUnit&&(e.preventDefault(),this.highlightNextUnit());break;case 27:this.updateFromElementVal();break;case 37:this.updateFromElementVal(),this.highlightPrevUnit();break;case 38:switch(this.highlightedUnit){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.updateElement();break;case 39:this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(this.highlightedUnit){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.updateElement()}0!==e.keyCode&&8!==e.keyCode&&9!==e.keyCode&&46!==e.keyCode&&e.preventDefault()},setValues:function(e){if(this.showMeridian){var t=e.split(" "),n=t[0].split(":");this.meridian=t[1]}else var n=e.split(":");this.hour=parseInt(n[0],10),this.minute=parseInt(n[1],10),this.second=parseInt(n[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:1>this.hour&&(this.hour=1),"AM"==this.meridian||"A"==this.meridian?this.meridian="am":("PM"==this.meridian||"P"==this.meridian)&&(this.meridian="pm"),"am"!=this.meridian&&"pm"!=this.meridian&&(this.meridian="am")):this.hour>=24?this.hour=23:0>this.hour&&(this.hour=0),0>this.minute?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:0>this.second?this.second=0:this.second>=60&&(this.second=59)),""!=this.$element.val()&&this.updateElement(),this.updateWidget()},setMeridian:function(e){"a"==e||"am"==e||"AM"==e?this.meridian="AM":"p"==e||"pm"==e||"PM"==e?this.meridian="PM":this.updateWidget(),this.updateElement()},setDefaultTime:function(e){if(e){if("current"===e){var t=new Date,n=t.getHours(),i=Math.floor(t.getMinutes()/this.minuteStep)*this.minuteStep,r=Math.floor(t.getSeconds()/this.secondStep)*this.secondStep,o="am";this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),o="pm"):o="am"),this.hour=n,this.minute=i,this.second=r,this.meridian=o}else"value"===e?this.setValues(this.$element.val()):this.setValues(e);""!=this.$element.val()&&this.updateElement(),this.updateWidget()}else this.hour=0,this.minute=0,this.second=0},formatTime:function(e,t,n,i){return e=e,t=10>t?"0"+t:t,n=10>n?"0"+n:n,e+":"+t+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+i:"")},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},setTime:function(e){this.setValues(e),this.update()},update:function(){this.updateElement(),this.updateWidget()},blurElement:function(){this.highlightedUnit=void 0,this.updateFromElementVal()},updateElement:function(){var e=this.getTime();switch(this.$element.val(e).change(),this.highlightedUnit){case"hour":this.highlightHour();break;case"minute":this.highlightMinute();break;case"second":this.highlightSecond();break;case"meridian":this.highlightMeridian()}},updateWidget:function(){this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(this.hour),this.$widget.find("input.bootstrap-timepicker-minute").val(10>this.minute?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(10>this.second?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(this.hour),this.$widget.find("span.bootstrap-timepicker-minute").text(10>this.minute?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(10>this.second?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))},updateFromElementVal:function(){var e=this.$element.val();e&&(this.setValues(e),this.updateWidget())},updateFromWidgetInputs:function(){var t=e("input.bootstrap-timepicker-hour",this.$widget).val()+":"+e("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+e("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+e("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setValues(t)},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),n=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}},highlightUnit:function(){this.$element.get(0),this.position=this.getCursorPosition(),this.position>=0&&2>=this.position?this.highlightHour():this.position>=3&&5>=this.position?this.highlightMinute():this.position>=6&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.highlightMeridian();break;case"second":this.highlightMeridian();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){this.highlightedUnit="hour",this.$element.get(0).setSelectionRange(0,2)},highlightMinute:function(){this.highlightedUnit="minute",this.$element.get(0).setSelectionRange(3,5)},highlightSecond:function(){this.highlightedUnit="second",this.$element.get(0).setSelectionRange(6,8)},highlightMeridian:function(){this.highlightedUnit="meridian",this.showSeconds?this.$element.get(0).setSelectionRange(9,11):this.$element.get(0).setSelectionRange(6,8)},incrementHour:function(){if(this.showMeridian)if(11===this.hour)this.toggleMeridian();else if(12===this.hour)return this.hour=1;return 23===this.hour?this.hour=0:(this.hour=this.hour+1,void 0)},decrementHour:function(){if(this.showMeridian){if(1===this.hour)return this.hour=12;12===this.hour&&this.toggleMeridian()}return 0===this.hour?this.hour=23:(this.hour=this.hour-1,void 0)},incrementMinute:function(){var e=this.minute+this.minuteStep-this.minute%this.minuteStep;e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},decrementMinute:function(){var e=this.minute-this.minuteStep;0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(),this.second=e-60):this.second=e},decrementSecond:function(){var e=this.second-this.secondStep;0>e?(this.decrementMinute(),this.second=e+60):this.second=e},toggleMeridian:function(){this.meridian="am"===this.meridian?"pm":"am",this.update()},getTemplate:function(){if(this.options.templates[this.options.template])return this.options.templates[this.options.template];if(this.showInputs)var e='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',t='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',i='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>';else var e='<span class="bootstrap-timepicker-hour"></span>',t='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',i='<span class="bootstrap-timepicker-meridian"></span>';var r,o='<table class="'+(this.showSeconds?"show-seconds":"")+" "+(this.showMeridian?"show-meridian":"")+'">'+"<tr>"+'<td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"> </td>'+'<td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator"> </td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator"> </td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+e+"</td> "+'<td class="separator">:</td>'+"<td>"+t+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator"> </td><td>'+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator"> </td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator"> </td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>";switch(this.options.template){case"modal":r='<div class="bootstrap-timepicker modal hide fade in" style="top: 30%; margin-top: 0; width: 200px; margin-left: -100px;" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+o+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">Ok</a>'+"</div>"+"</div>";break;case"dropdown":r='<div class="bootstrap-timepicker dropdown-menu">'+o+"</div>"}return r}},e.fn.timepicker=function(n,i){return this.each(function(){var r=e(this),o=r.data("timepicker"),a="object"==typeof n&&n;o||r.data("timepicker",o=new t(this,a)),"string"==typeof n&&o[n](i)})},e.fn.timepicker.defaults={minuteStep:15,secondStep:15,disableFocus:!1,defaultTime:"current",showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",modalBackdrop:!1,templates:{}},e.fn.timepicker.Constructor=t}(window.jQuery),angular.module("ADE").directive("adeTimepop",["$filter",function(e){return{require:"?ngModel",restrict:"A",link:function(t,n,i,r){var o=!1;n.bind("keydown",function(e){13==e.keyCode?(n.timepicker("updateWidget"),n.timepicker("hideWidget"),n.blur()):27==e.keyCode?n.timepicker("hideWidget",!1):9==e.keyCode&&(n.timepicker("updateWidget"),n.timepicker("hideWidget",!0))}),n.bind("keyup",function(e){if(o&&13!=e.keyCode&&27!=e.keyCode&&9!=e.keyCode){var t=n.context.value,i=n.timepicker().data().timepicker;if(angular.isString(t)){var r=t.split(" "),a=r[0].split(":"),s=parseInt(a[0],10),l=parseInt(a[1],10),c=r[1],u=23>=s?s:23,d=59>=l?l:59;i.hour=u,i.minute=d,i.meridian=c}n.timepicker("updateWidget")}}),n.bind("keypress",function(e){var t=[49,50,51,52,53,54,55,56,57,109,112,97,48,58,8,186,13,27,32];o=!1;for(var i=0;t.length>i;i++)if(!o){if(e.keyCode===t[i])return o=!0,8>n.length?o:!1;o=!1}return!1});var a=function(i){var o="",a=a||"12";return i.shouldSave?(i.time&&(o=e("time")(i.time,a)),n.context.value=o,void 0!==r&&null!==r&&r.$setViewValue(i.time),t.$$phase||t.$digest(),void 0):(n.context.value=e("time")(r.$viewValue,a),void 0)};return void 0!==r&&null!==r&&(r.$render=function(){if(r.$viewValue){var t=n.timepicker().data().timepicker.options.showMeridian,i=t?e("time")(r.$viewValue):e("time")(r.$viewValue,"24");n.timepicker("setValues",i),n.timepicker("update")}else null===r.$viewValue&&(n.timepicker("setValues",null),n.timepicker("update"));return r.$viewValue}),i.$observe("adeTimepop",function(e){var t={};return angular.isObject(e)&&(t=e),"string"==typeof e&&e.length>0&&(t=angular.fromJson(e)),t.format&&(format=t.format),n.timepicker(t).on("hide.timepicker",a)})}}}]),angular.module("ADE").directive("adeTime",["ADE","$compile","$filter",function(e,t){return{require:"?ngModel",restrict:"A",link:function(n,i,r,o){var a={},s=!1,l=null,c=null,u=null,d=0;null!==o&&void 0!==o&&(o.$render=function(){return u=c=o.$modelValue,(void 0===c||null===c)&&(c=""),o.$viewValue});var h=function(t){var r=l.val(),u=c;if(d=t,3!=t){var h=r.split(" "),f=h[0].split(":"),p=parseInt(f[0],10),m=parseInt(f[1],10),g=h[1]||"",v=23>=p?p:23,y=59>=m?m:59,b=v+":"+y+" "+g;c=f.length>1?Date.parse(b).getTime()/1e3:"",o.$setViewValue(c)}i.show(),l.timepicker("removeWidget"),l.scope().$destroy(),l.remove(),s=!1,e.done(a,u,c,d),n.$digest()};return i.bind("click",function(){var r,o;if(!s){s=!0,d=0,c=c||0,e.begin(a),i.hide(),"24"===a.format?(r='"showMeridian":false',o=5):(r='"showMeridian":true',o=8);var u='<input ng-controller="adeTimeDummyCtrl" ade-timepop=\'{'+r+'}\' ng-model="adePickTime1" ng-init="adePickTime1='+c+'" maxlength="'+o+'" type="text" class="'+a.className+'" />';t(u)(n).insertAfter(i),l=i.next("input"),l.focus(),setTimeout(function(){l.focus()}),e.setupBlur(l,h),e.setupKeys(l,h),n.$parent&&n.$parent.$localApply?n.$parent.$localApply():n.$apply()}}),r.$observe("adeTime",function(t){return a=e.parseSettings(t,{className:"input-medium"}),i})}}}]),angular.module("ADE").filter("time",function(){return function(e,t){var n,i,r,o,a="",t=t||"12";return angular.isUndefined(e)?a:(angular.isArray(e)&&(e=e[0]),0==e?a:(angular.isNumber(e)&&(n=new Date(1e3*e)),angular.isDate(n)?(r=n.getHours(),o=n.getMinutes(),"12"===t?(i=r>=12?"pm":"am",r%=12,r=r?r:12,o=10>o?"0"+o:o,a=r+":"+o+" "+i):(o=10>o?"0"+o:o,a=r+":"+o),a):a))}}),angular.module("ADE").directive("adeToggle",["ADE","$compile","$filter",function(e){return{require:"?ngModel",restrict:"A",link:function(t,n,i,r){var o={},a="",s="",l="";return null!==r&&void 0!==r&&(r.$render=function(){return s=a=r.$modelValue,(void 0===a||null===a)&&(a=""),r.$viewValue}),n.bind("click",function(n){n.preventDefault(),n.stopPropagation(),e.begin(o),s=a,a=a?!1:!0,l=a,r.$setViewValue(a),e.done(o,s,a,0),t.$digest()}),n.bind("focus",function(){n.bind("keypress.ADE",function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),n.click())})}),n.bind("blur",function(){n.unbind("keypress.ADE")}),i.$observe("adeToggle",function(t){return o=e.parseSettings(t,{}),n})}}}]),angular.module("ADE").filter("toggle",function(){return function(e,t){return angular.isArray(e)&&(e=e[0]),angular.isString(e)&&(e=e.toLowerCase(),("false"==e||"no"==e||"0"==e||"o"==e)&&(e=!1)),e?'<span class="ade-'+t+' ade-on">':'<span class="ade-'+t+' ade-off">'}}),angular.module("ADE").filter("url",["$filter",function(e){return function(t){var n="",i="";return t?(angular.isArray(t)&&(t=t[0]),angular.isString(t)||(t=""+t),t=$.trim(t),i=e("linky")(t),i==t&&(t.indexOf(".")>=0&&0!=t.indexOf("http")?(n="http://"+t,i='<a href="'+n+'">'+n+"</a>"):i=t),i):""}}]);